# Upstream Server Configurations
# Define backend servers for load balancing and failover

# HTTP upstream for homelab Traefik
upstream homelab_http {
    # Primary homelab server
    server ${HOMELAB_IP}:80 max_fails=3 fail_timeout=30s;
    
    # Optional: Add backup server if available
    # server backup-ip:80 backup;
    
    # Connection settings
    keepalive 32;
    keepalive_requests 100;
    keepalive_timeout 60s;
}

# HTTPS upstream for homelab Traefik (used in stream context)
upstream homelab_https {
    server ${HOMELAB_IP}:443 max_fails=3 fail_timeout=30s;
    
    # Optional: Add backup server if available
    # server backup-ip:443 backup;
}
